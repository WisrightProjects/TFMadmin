"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[1045],{1045:function(e,t,n){n.r(t);var r=n(1413),s=n(4165),a=n(5861),i=n(885),c=n(9743),u=n(2677),o=n(9140),l=n(3855),d=n(3360),h=n(3024),f=n(2791),m=n(9264),p=n(8982),x=n(1134),Z=n(4695),j=n(1724),v=n(4136),w=n(4206),b=n(6645),g=n(7006),k=n(1645),y=n(4005),S=n(184),q=j.Ry().shape({question:j.Z_().required("Question is required"),answer:j.Z_().required("Answer is required")});t.default=function(){var e,t,n=[{name:"Question",selector:function(e){return e.question},format:function(e){return e.question.length>40?e.question.slice(0,40)+"...":e.question.slice(0,40)}},{name:"Answer",selector:function(e){return e.answer},format:function(e){var t=e.answer.length;return(0,S.jsx)(f.Fragment,{children:(0,S.jsx)("span",{dangerouslySetInnerHTML:{__html:t>40?e.answer.slice(0,40)+"...":e.answer.slice(0,40)}})})}},{name:"Action",cell:function(e){return j(e)},ignoreRowClick:!0,grow:1}],j=function(e){return(0,S.jsx)(w.Z,{editOnClick:Ge,viewOnClick:Ve,deleteOnClick:Oe,rowId:e._id})},N=(0,f.useState)([]),A=(0,i.Z)(N,2),C=A[0],F=A[1],Q=(0,f.useState)(!1),E=(0,i.Z)(Q,2),_=E[0],P=E[1],L=(0,f.useState)({}),M=(0,i.Z)(L,2),I=M[0],R=M[1],D=(0,f.useState)(!0),J=(0,i.Z)(D,2),H=J[0],T=J[1],V=(0,f.useState)(""),G=(0,i.Z)(V,2),O=G[0],z=G[1],B=(0,f.useState)(""),U=(0,i.Z)(B,2),X=U[0],K=U[1],W=(0,f.useState)(0),Y=(0,i.Z)(W,2),$=Y[0],ee=Y[1],te=(0,f.useState)(10),ne=(0,i.Z)(te,2),re=ne[0],se=ne[1],ae=(0,f.useState)(""),ie=(0,i.Z)(ae,2),ce=ie[0],ue=ie[1],oe=(0,f.useState)(!1),le=(0,i.Z)(oe,2),de=le[0],he=le[1],fe=(0,f.useState)(!0),me=(0,i.Z)(fe,2),pe=me[0],xe=me[1],Ze=(0,f.useState)({search:"",skip:0,limit:10}),je=(0,i.Z)(Ze,2),ve=je[0],we=je[1],be=(0,x.cI)({resolver:(0,Z.X)(q)}),ge=be.register,ke=be.handleSubmit,ye=be.formState,Se=be.reset,qe=be.setValue,Ne=(0,x.cI)(),Ae=Ne.register,Ce=Ne.handleSubmit,Fe=Ne.formState,Qe=Ne.reset,Ee=ye.errors,_e=ye.isSubmitting,Pe=Fe.isDirty,Le=Fe.isSubmitting,Me=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(){var t,n,r,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xe(!0),e.next=3,m.LT.getAllPost(k.wr,ve);case 3:(n=e.sent)&&200===(null===n||void 0===n||null===(t=n.meta)||void 0===t?void 0:t.code)&&(r=n.data,a=n.pagination,ee(a.totalCount),F(r),xe(!1));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ie=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t){var n,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.Jd.createFaq(t);case 2:if(n=e.sent,200!==(r=n.meta).code){e.next=11;break}v.P6.showSuccessMsg(null===r||void 0===r?void 0:r.message),Se(),He(),Me(),e.next=13;break;case 11:return v.P6.showErrMsg(r.message),e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Re=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t,n){var r,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.Jd.updateFaq(t,n);case 2:r=e.sent,200===(a=r.meta).code&&(v.P6.showSuccessMsg(null===a||void 0===a?void 0:a.message),Se(),He(),Me());case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),De=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t){var n,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.Jd.getFaq(t);case 2:n=e.sent,r=n.data,["question","answer"].forEach((function(e){return qe(e,r[e])})),ue(r.answer);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Je=function(){return P(!0)},He=function(){P(!1),Se()},Te=function(){Je(),K("Add FAQ"),ue("")},Ve=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return K("View FAQ"),Je(),e.next=4,m.Jd.getFaq(t);case 4:n=e.sent,R(n?n.data:{});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ge=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:K("Edit FAQ"),Je(),T(!1),z(t),De(t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Oe=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.Jd.deleteFaq(t);case 2:Me();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();(0,f.useEffect)((function(){de&&de.setData(ce)}),[de]),(0,f.useEffect)((function(){de&&de.setData(ce)}),[ce]);var ze=(0,f.useState)(!1),Be=(0,i.Z)(ze,2),Ue=Be[0],Xe=Be[1];(0,f.useEffect)((function(){var e=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me(ve);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Ue&&e()}),[Ue,ve]),(0,f.useEffect)((function(){Xe(!0)}),[]);var Ke=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==(n=t.question)){e.next=4;break}return v.P6.showErrMsg("Question is required"),e.abrupt("return",!1);case 4:we((0,r.Z)((0,r.Z)({},ve),{},{search:n}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,S.jsxs)("div",{children:[(0,S.jsx)(b.Z,{pageFor:"FAQ",listUrl:"FAQ"}),(0,S.jsx)(c.Z,{children:(0,S.jsx)(u.Z,{xl:12,children:(0,S.jsx)(o.Z,{children:(0,S.jsxs)(o.Z.Body,{children:[(0,S.jsxs)(c.Z,{className:"m-2",children:[(0,S.jsx)(u.Z,{md:6}),(0,S.jsx)(u.Z,{md:6,className:"ml-lg-auto d-flex pt-5 align-items-stretch justify-content-end",children:(0,S.jsx)("button",{onClick:Te,className:"btn btn-rounded btn-success",children:"+ Add"})})]}),(0,S.jsx)(l.Z,{className:"forms-sample",onSubmit:Ce(Ke),children:(0,S.jsxs)(c.Z,{children:[(0,S.jsx)(u.Z,{md:4,children:(0,S.jsx)(l.Z.Group,{className:"form-group",children:(0,S.jsx)(l.Z.Control,(0,r.Z)({type:"text",placeholder:"Enter Question",size:"md"},Ae("question")))})}),(0,S.jsx)(u.Z,{md:3,children:(0,S.jsxs)("div",{className:"pb-2 d-flex justify-content-start",children:[(0,S.jsx)("button",{disabled:Le,type:"submit",className:"btn btn-gradient-primary mr-2",children:"Search"}),Pe&&(0,S.jsx)("button",{onClick:function(){Qe(),we((0,r.Z)((0,r.Z)({},ve),{},{search:""}))},type:"reset",className:"btn btn-gradient-danger mr-2",children:"Reset"})]})})]})}),(0,S.jsx)(h.Z,{title:"FAQ",noHeader:!0,subHeader:!1,columns:n,data:C,addLink:Te,handlePageChange:function(e){we((0,r.Z)((0,r.Z)({},ve),{},{skip:e>1?(e-1)*re:0}))},handlePerRowsChange:function(e,t){se(e),we((0,r.Z)((0,r.Z)({},ve),{},{skip:t>1?(t-1)*re:0,limit:e}))},totalRows:$,progressPending:pe})]})})})}),_&&(0,S.jsxs)(p.Z,{show:_,handleClose:He,size:"md",modalTitle:X,children:[X&&("Add FAQ"===X||"Edit FAQ"===X)&&(0,S.jsxs)(l.Z,{onSubmit:ke((function(e){H?Ie(e):Re(O,e)})),className:"pt-3",children:[(0,S.jsxs)(l.Z.Label,{children:["Question  ",(0,S.jsx)(y.Z,{})]}),(0,S.jsxs)(l.Z.Group,{className:"search-field form-group",children:[(0,S.jsx)(l.Z.Control,(0,r.Z)((0,r.Z)({},ge("question")),{},{type:"text",placeholder:"Question",className:"h-auto"})),(0,S.jsx)("p",{className:"text-danger text-start",children:null===(e=Ee.question)||void 0===e?void 0:e.message})]}),(0,S.jsxs)(l.Z.Label,{children:["Answer  ",(0,S.jsx)(y.Z,{})]}),(0,S.jsxs)(l.Z.Group,{className:"search-field form-group",children:[(0,S.jsx)(g.vM,(0,r.Z)((0,r.Z)({},ge("answer")),{},{initData:ce,onInstanceReady:function(e){var t=e.editor;he(t)},onChange:function(e){var t=e.editor.getData();qe("answer",t),ue(t)}})),(0,S.jsx)("p",{className:"text-danger text-start",children:null===(t=Ee.answer)||void 0===t?void 0:t.message})]}),(0,S.jsxs)("div",{className:"mt-3",children:[(0,S.jsx)(d.Z,{disabled:_e,className:"btn btn-primary btn-sm font-weight-medium auth-form-btn",type:"submit",children:"Submit"}),(0,S.jsx)(d.Z,{className:"btn btn-danger btn-sm",onClick:He,children:"Close"})]})]}),X&&"View FAQ"===X&&I&&(0,S.jsx)("div",{className:"table-responsive",children:(0,S.jsxs)("table",{className:"table",children:[(0,S.jsx)("thead",{children:(0,S.jsxs)("tr",{children:[(0,S.jsx)("th",{children:"Label"}),(0,S.jsx)("th",{children:"Value"})]})}),(0,S.jsxs)("tbody",{children:[(0,S.jsxs)("tr",{children:[(0,S.jsx)("td",{children:(0,S.jsx)("h5",{className:"text-bold",children:"Question"})}),(0,S.jsx)("td",{children:I.question})]}),(0,S.jsxs)("tr",{children:[(0,S.jsx)("td",{children:(0,S.jsx)("h5",{className:"text-bold",children:"Answer"})}),(0,S.jsx)("td",{dangerouslySetInnerHTML:{__html:I.answer}})]})]})]})})]})]})}}}]);
//# sourceMappingURL=1045.98113bc4.chunk.js.map