"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[66],{4206:function(e,n,t){t.d(n,{Z:function(){return o}});t(2791);var r=t(7798),s=t(2576),i=t(3504),a=t(184);function o(e){var n=e.editOnClick,t=e.viewOnClick,o=e.deleteOnClick,l=e.rowId,c=e.viewUrl,d=e.editUrl,u=e.id,m=e.updateOnClick,h=e.downloadOnClick;return(0,a.jsxs)("div",{children:[m&&(0,a.jsx)(r.Z,{overlay:(0,a.jsx)(s.Z,{children:"Update Plan"}),children:(0,a.jsx)("button",{className:"btn btn-inverse-info btn-rounded btn-icon",onClick:function(){return m(l)},children:(0,a.jsx)("i",{className:"mdi mdi-update"})})}),n&&(0,a.jsx)(r.Z,{overlay:(0,a.jsx)(s.Z,{children:"Edit"}),children:(0,a.jsx)("button",{className:"btn btn-inverse-info btn-rounded btn-icon",onClick:function(){return n(l)},children:(0,a.jsx)("i",{className:"mdi mdi-pencil"})})}),d&&(0,a.jsx)(r.Z,{overlay:(0,a.jsx)(s.Z,{children:"Edit"}),children:(0,a.jsx)(i.rU,{className:"btn btn-inverse-info btn-rounded btn-icon",to:d,children:(0,a.jsx)("i",{style:{lineHeight:"2.2"},className:"mdi mdi-pencil"})})}),t&&(0,a.jsx)(r.Z,{overlay:(0,a.jsx)(s.Z,{children:"View"}),children:(0,a.jsx)("button",{className:"btn btn-inverse-primary btn-rounded btn-icon",onClick:function(){return t(l)},children:(0,a.jsx)("i",{className:"mdi mdi-eye"})})}),o&&(0,a.jsx)(r.Z,{overlay:(0,a.jsx)(s.Z,{children:"Delete"}),children:(0,a.jsx)("button",{className:"btn btn-inverse-danger btn-rounded btn-icon",onClick:function(){return o(l,u)},children:(0,a.jsx)("i",{className:"mdi mdi-delete"})})}),c&&(0,a.jsx)(r.Z,{overlay:(0,a.jsx)(s.Z,{children:"View"}),children:(0,a.jsx)(i.rU,{className:"btn btn-inverse-primary btn-rounded btn-icon",to:c,children:(0,a.jsx)("i",{style:{lineHeight:"2.2"},className:"mdi mdi-eye"})})}),h&&(0,a.jsx)(r.Z,{overlay:(0,a.jsx)(s.Z,{children:"View"}),children:(0,a.jsx)("button",{className:"btn btn-inverse-primary btn-rounded btn-icon",onClick:function(){return h(l)},children:(0,a.jsx)("i",{className:"mdi mdi-download"})})})]})}},6645:function(e,n,t){var r=t(3504),s=t(184);n.Z=function(e){var n=e.pageFor;return(0,s.jsxs)("div",{className:"page-header",children:[(0,s.jsx)("h3",{className:"page-title",children:n}),(0,s.jsx)("nav",{"aria-label":"breadcrumb",children:(0,s.jsxs)("ol",{className:"breadcrumb",children:[(0,s.jsx)("li",{className:"breadcrumb-item",children:(0,s.jsx)(r.rU,{to:"/",children:"Home"})}),(0,s.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:n})]})})]})}},4005:function(e,n,t){var r=t(184);n.Z=function(){return(0,r.jsx)("span",{className:"text-danger",children:"*"})}},3024:function(e,n,t){var r,s,i=t(885),a=t(168),o=t(2791),l=t(4313),c=t(3513),d=t(3360),u=t(4849),m=t(184);function h(e,n){var t=document.createElement("a"),r=function(e){var n,t=Object.keys(e[0]);return n="",n+=t.join(","),n+="\n",e.forEach((function(e){var r=0;t.forEach((function(t){r>0&&(n+=","),n+=e[t],r++})),n+="\n"})),n}(n);if(null!=r){var s=e.toLowerCase()+".csv";r.match(/^data:text\/csv/i)||(r="data:text/csv;charset=utf-8,".concat(r)),t.setAttribute("href",encodeURI(r)),t.setAttribute("download",s),t.click()}}var x=function(e){var n=e.onExport;return(0,m.jsx)("button",{onClick:function(e){return n(e.target.value)},children:"Export"})},p=l.default.input(r||(r=(0,a.Z)(["\n  height: 32px;\n  width: 200px;\n  border-radius: 3px;\n  border-top-left-radius: 5px;\n  border-bottom-left-radius: 5px;\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n  border: 1px solid #e5e5e5;\n  padding: 0 32px 0 16px;\n\n  &:hover {\n    cursor: pointer;\n  }\n"]))),f=(0,l.default)(d.Z)(s||(s=(0,a.Z)(["\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n  border-top-right-radius: 5px;\n  border-bottom-right-radius: 5px;\n  height: 34px;\n  width: 32px;\n  text-align: center;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),b=function(e){var n=e.filterText,t=e.onFilter,r=e.onClear;return(0,m.jsxs)("div",{className:"input-group mb-3",children:[(0,m.jsx)(p,{type:"text",placeholder:"Filter By Name","aria-label":"Search Input",value:n,onChange:t}),(0,m.jsx)("div",{className:"input-group-append",children:(0,m.jsx)(f,{type:"button",className:"p-0",onClick:r,children:"X"})})]})},v={rows:{style:{minHeight:"72px"}},headCells:{style:{paddingLeft:"8px",paddingRight:"8px"}},cells:{style:{paddingLeft:"8px",paddingRight:"8px"}}};n.Z=function(e){var n=e.title,t=e.addLink,r=e.noHeader,s=void 0===r||r,a=e.subHeader,l=void 0===a||a,d=e.data,p=e.progressPending,f=e.columns,j=e.exportLink,Z=e.exportFunc,g=e.downloadFuntion,N=e.totalRows,y=e.handlePerRowsChange,w=e.handlePageChange,k=(0,o.useMemo)((function(){return(0,m.jsxs)(o.Fragment,{children:[t&&(0,m.jsx)("button",{className:"btn btn-rounded btn-success",onClick:t,children:"+ Add"}),j&&(0,m.jsx)(x,{onExport:function(){return h(n,d)}}),Z&&(0,m.jsx)("button",{onClick:g,children:"Export Exception"})]})}),[d,t,g,Z,j,n]),C=o.useState(""),R=(0,i.Z)(C,2),D=R[0],S=R[1],P=o.useState(!1),E=(0,i.Z)(P,2),I=E[0],H=E[1],F=(0,o.useMemo)((function(){return(0,m.jsx)(b,{onFilter:function(e){return S(e.target.value)},onClear:function(){D&&(H(!I),S(""))},filterText:D})}),[D,I]),U=function(){return(0,m.jsx)("div",{className:"spinner_wrapper",children:(0,m.jsx)(u.Z,{animation:"border"})})};return(0,m.jsx)("div",{children:(0,m.jsx)(c.ZP,{className:"table table-striped table-bordered align-middle mb-0 text-nowrap",title:n,noHeader:s,responsive:!0,pagination:!0,paginationRowsPerPageOptions:[2,5,10,25,50,100],paginationResetDefaultPage:I,highlightOnHover:!0,pointerOnHover:!0,progressPending:p,actions:k,dense:!0,data:d,columns:f,customStyles:v,paginationServer:!0,paginationTotalRows:N,onChangeRowsPerPage:y,onChangePage:w,subHeader:l,subHeaderComponent:F,progressComponent:(0,m.jsx)(U,{})})})}},8982:function(e,n,t){var r=t(4542),s=t(184);n.Z=function(e){var n=e.show,t=e.size,i=e.handleClose,a=e.modalTitle,o=e.children,l=e.centered,c=e.scrollable;return(0,s.jsxs)(r.Z,{scrollable:c,centered:l,size:t,show:n,onHide:i,backdrop:"static",keyboard:!1,children:[(0,s.jsxs)(r.Z.Header,{children:[(0,s.jsx)(r.Z.Title,{children:a}),(0,s.jsxs)("button",{type:"button",onClick:i,className:"close",children:[(0,s.jsx)("span",{"aria-hidden":"true",children:"\xd7"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]}),(0,s.jsx)(r.Z.Body,{children:o})]})}},66:function(e,n,t){t.r(n);var r=t(4165),s=t(5861),i=t(1413),a=t(885),o=t(9140),l=t(3855),c=t(9743),d=t(2677),u=t(2591),m=t(3360),h=t(6645),x=t(2791),p=t(4206),f=t(4136),b=t(3024),v=t(9264),j=t(8687),Z=t(8982),g=t(1134),N=t(4695),y=t(1724),w=t(1645),k=t(2426),C=t.n(k),R=t(4005),D=t(184),S=y.Ry().shape({remark:y.Z_().label("Remarks").required()});n.default=(0,j.$j)((function(e){var n,t;return{commonData:null===e||void 0===e||null===(n=e.common)||void 0===n?void 0:n.commonData,user:null===e||void 0===e||null===(t=e.account)||void 0===t?void 0:t.authUser}}),null)((function(e){var n,t,j,y=e.commonData,k=(0,x.useState)([]),P=(0,a.Z)(k,2),E=P[0],I=P[1],H=(0,x.useState)(0),F=(0,a.Z)(H,2),U=F[0],O=F[1],A=(0,x.useState)(f.oX.aQ),T=(0,a.Z)(A,2),q=T[0],z=T[1],M=(0,x.useState)((0,i.Z)({},f.oX.Or)),_=(0,a.Z)(M,2),L=_[0],G=_[1],V=(0,x.useState)(!1),X=(0,a.Z)(V,2),B=X[0],Y=X[1],J=(0,x.useState)(""),Q=(0,a.Z)(J,2),$=Q[0],K=Q[1],W=(0,x.useState)({}),ee=(0,a.Z)(W,2),ne=ee[0],te=ee[1],re=(0,x.useState)(null),se=(0,a.Z)(re,2),ie=se[0],ae=se[1];console.log("userData::",ie);var oe=(0,x.useState)(!0),le=(0,a.Z)(oe,2),ce=le[0],de=le[1],ue=function(){Y(!1),fe()},me=[{name:"Matri ID",selector:function(e){return e.profileID}},{name:"Profile Name",selector:function(e){return e.userName}},{name:"Phone",selector:function(e){return e.phone}},{name:"Email",selector:function(e){return e.email}},{name:"Marital Status",selector:function(e){var n=e.maritalStatus,t=y.maritalStatus;return(t?t.find((function(e){return e.code===n})):{}).label}},{name:"Reason",selector:function(e){var n=e.defaultReasonToDel,t=e.reasonForDel,r=y.deleteProfileReason,s=r?r.find((function(e){return e.code===n})):{};return 50===n?t:s.label}},{name:"Status",selector:function(e){var n=e.status,t=y.userStatus,r=t?t.find((function(e){return e.code===n})):{},s="";switch(n){case 10:default:s="btn-success";break;case 20:s="btn-warning";break;case 30:s="btn-danger"}return(0,D.jsx)("button",{type:"button",className:"btn ".concat(s," btn-sm"),children:null===r||void 0===r?void 0:r.label})}},{name:"Action",cell:function(e){return(0,D.jsx)(p.Z,{rowId:e._id,viewOnClick:De})},ignoreRowClick:!0,grow:1}],he=(0,g.cI)({resolver:(0,N.X)(S)}),xe=he.register,pe=he.handleSubmit,fe=he.reset,be=he.setValue,ve=he.formState,je=ve.errors,Ze=ve.isSubmitting,ge=(0,g.cI)(),Ne=ge.register,ye=ge.handleSubmit,we=ge.reset,ke=ge.formState,Ce=ke.isSubmitting,Re=ke.isDirty,De=function(e){K("Approve Delete Request"),Y(!0);var n=E.find((function(n){return n._id===e}));te(n)},Se=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(n){var t,s,a,o,l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.email,s=n.profileID,a=n.name,o=n.phone,""!==(s||t||a||o)){e.next=4;break}return f.P6.showErrMsg("Atleast minimum field is required"),e.abrupt("return",!1);case 4:l={},""!==t&&(l.email=t),""!==a&&(l.name=a),""!==o&&(l.phone=o),""!==s&&(l.profileID=s),G((0,i.Z)((0,i.Z)({},L),{},{filter:l}));case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Pe=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(n){var t,s,a,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("values::",n),t=n.remark,s=n.type,e.next=4,v.Xv.approveDeleteRequest(ne._id,s,{remark:t});case 4:a=e.sent,o=a.meta,a&&200===o.code&&(ue(),f.P6.showSuccessMsg(o.message),G((0,i.Z)({},L)));case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();(0,x.useEffect)((function(){if(null!==ne&&void 0!==ne&&ne.profileID){var e=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(n){var t,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.LT.getById(w.JD+"/"+n);case 2:(s=e.sent)&&200===(null===s||void 0===s||null===(t=s.meta)||void 0===t?void 0:t.code)&&ae(s.data);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();e(null===ne||void 0===ne?void 0:ne.profileID)}}),[null===ne||void 0===ne?void 0:ne.profileID]);var Ee=(0,x.useState)(!1),Ie=(0,a.Z)(Ee,2),He=Ie[0],Fe=Ie[1];(0,x.useEffect)((function(){var e=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(n){var t,s,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return de(!0),e.next=3,v.Xv.profileDeleteRequest(n);case 3:(t=e.sent)&&200===t.meta.code&&(s=t.data,i=t.pagination,O(i.totalCount),I(s),de(!1));case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();He&&e(L)}),[L,He]),(0,x.useEffect)((function(){Fe(!0)}),[]);return console.log("viewUser::",ne),(0,D.jsxs)(x.Fragment,{children:[(0,D.jsx)(h.Z,{pageFor:"Delete Request",listUrl:"Delete Request"}),(0,D.jsx)(o.Z,{children:(0,D.jsxs)(o.Z.Body,{children:[(0,D.jsxs)(l.Z,{className:"forms-sample",onSubmit:ye(Se),children:[(0,D.jsxs)(c.Z,{children:[(0,D.jsx)(d.Z,{md:3,children:(0,D.jsx)(l.Z.Group,{className:"form-group",children:(0,D.jsx)(l.Z.Control,(0,i.Z)({type:"text",placeholder:"Matri Id",size:"md"},Ne("profileID")))})}),(0,D.jsx)(d.Z,{md:3,children:(0,D.jsx)(l.Z.Group,{className:"form-group",children:(0,D.jsx)(l.Z.Control,(0,i.Z)((0,i.Z)({type:"number",size:"md"},Ne("phone")),{},{placeholder:"Phone",className:"custome_num_input",pattern:"\\d*"}))})}),(0,D.jsx)(d.Z,{md:3,children:(0,D.jsx)(l.Z.Group,{className:"form-group",children:(0,D.jsx)(l.Z.Control,(0,i.Z)({type:"text",placeholder:"Name",size:"md"},Ne("name")))})}),(0,D.jsx)(d.Z,{md:3,children:(0,D.jsx)(l.Z.Group,{className:"form-group",children:(0,D.jsx)(l.Z.Control,(0,i.Z)({type:"text",placeholder:"Email",size:"md"},Ne("email")))})})]}),(0,D.jsxs)("div",{className:"pb-2",children:[(0,D.jsx)("button",{disabled:Ce,type:"submit",className:"btn btn-gradient-primary mr-2",children:"Search"}),Re&&(0,D.jsx)("button",{onClick:function(){we(),G((0,i.Z)((0,i.Z)({},L),{},{filter:{}}))},className:"btn btn-gradient-danger mr-2",children:"Reset"})]})]}),(0,D.jsx)(b.Z,{noHeader:!0,subHeader:!1,columns:me,data:E,totalRows:U,handlePageChange:function(e){G((0,i.Z)((0,i.Z)({},L),{},{skip:e>1?(e-1)*q:0}))},handlePerRowsChange:function(e,n){z(e),G((0,i.Z)((0,i.Z)({},L),{},{skip:n>1?(n-1)*q:0,limit:e}))},progressPending:ce})]})}),B&&(0,D.jsx)(Z.Z,{size:"md",show:B,handleClose:ue,modalTitle:$,children:$&&"Approve Delete Request"===$&&(0,D.jsxs)(l.Z,{onSubmit:pe(Pe),className:"pt-3",children:[(0,D.jsx)("div",{className:"",children:(0,D.jsx)("h5",{children:(0,D.jsx)("u",{children:"User Details"})})}),(0,D.jsxs)(u.Z,{children:[(0,D.jsxs)("tr",{children:[(0,D.jsx)("th",{children:"Profile ID:"}),(0,D.jsx)("td",{children:ne.profileID})]}),(0,D.jsxs)("tr",{children:[(0,D.jsx)("th",{children:"Profile Name:"}),(0,D.jsx)("td",{children:ne.userName})]}),(0,D.jsxs)("tr",{children:[(0,D.jsx)("th",{children:"Gender:"}),(0,D.jsx)("td",{children:function(e,n){var t,r=null===(t=y[e])||void 0===t?void 0:t.find((function(e){return e.code===n}));return r?null===r||void 0===r?void 0:r.label:""}("gender",ne.gender)})]}),(0,D.jsxs)("tr",{children:[(0,D.jsx)("th",{children:"Email:"}),(0,D.jsx)("td",{children:ne.email})]}),(0,D.jsxs)("tr",{children:[(0,D.jsx)("th",{children:"Phone:"}),(0,D.jsx)("td",{children:ne.phone})]}),(0,D.jsxs)("tr",{children:[(0,D.jsx)("th",{children:"Reason :"}),(0,D.jsx)("td",{children:function(e){var n=e.defaultReasonToDel,t=e.reasonForDel,r=y.deleteProfileReason,s=r?r.find((function(e){return e.code===n})):{};return 50===n?t:s.label}(ne)})]})]}),(null===ie||void 0===ie||null===(n=ie.deleteProfiletimeLine)||void 0===n?void 0:n.length)>0&&(0,D.jsxs)(x.Fragment,{children:[(0,D.jsx)("div",{className:"",children:(0,D.jsx)("h5",{children:(0,D.jsx)("u",{children:"Timeline"})})}),(0,D.jsxs)("table",{className:"table border",children:[(0,D.jsx)("thead",{children:(0,D.jsxs)("tr",{children:[(0,D.jsx)("th",{children:"Remarks"}),(0,D.jsx)("th",{children:"Updated At"})]})}),(0,D.jsx)("tbody",{children:null===ie||void 0===ie||null===(t=ie.deleteProfiletimeLine)||void 0===t?void 0:t.map((function(e,n){return(0,D.jsxs)("tr",{children:[(0,D.jsx)("td",{children:null===e||void 0===e?void 0:e.revertRemark}),(0,D.jsx)("td",{children:C()(null===e||void 0===e?void 0:e.updatedAt).format("DD-MM-YYYY")})]},n)}))})]})]}),(0,D.jsx)("div",{className:"",children:(0,D.jsxs)("h5",{children:[(0,D.jsx)("u",{children:"Remarks "}),(0,D.jsx)(R.Z,{})]})}),(0,D.jsxs)(l.Z.Group,{className:"search-field form-group",children:[(0,D.jsx)(l.Z.Control,(0,i.Z)((0,i.Z)({as:"textarea",rows:"5"},xe("remark")),{},{placeholder:"Delete Request Comment",className:"h-auto"})),(0,D.jsx)("p",{className:"text-danger text-start",children:null===(j=je.remark)||void 0===j?void 0:j.message})]}),(0,D.jsxs)("div",{className:"row mt-3",children:[(0,D.jsxs)("div",{className:"col-md-6",children:[(0,D.jsx)("button",{disabled:Ze,onClick:function(){be("type",10,{shouldValidate:!0})},className:"btn btn-primary btn-sm font-weight-medium auth-form-btn",type:"submit",children:"Approve"}),(0,D.jsx)("button",{className:"btn btn-success btn-sm font-weight-medium auth-form-btn",type:"submit",disabled:Ze,onClick:function(){be("type",20,{shouldValidate:!0})},children:"Revert"})]}),(0,D.jsx)("div",{className:"col-md-6",children:(0,D.jsx)("div",{className:"d-flex justify-content-end",children:(0,D.jsx)(m.Z,{className:"btn btn-danger btn-sm",onClick:ue,children:"Close"})})})]})]})})]})}))},2591:function(e,n,t){var r=t(1413),s=t(5987),i=t(1694),a=t.n(i),o=t(2791),l=t(162),c=t(184),d=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],u=o.forwardRef((function(e,n){var t=e.bsPrefix,i=e.className,o=e.striped,u=e.bordered,m=e.borderless,h=e.hover,x=e.size,p=e.variant,f=e.responsive,b=(0,s.Z)(e,d),v=(0,l.vE)(t,"table"),j=a()(i,v,p&&"".concat(v,"-").concat(p),x&&"".concat(v,"-").concat(x),o&&"".concat(v,"-").concat("string"===typeof o?"striped-".concat(o):"striped"),u&&"".concat(v,"-bordered"),m&&"".concat(v,"-borderless"),h&&"".concat(v,"-hover")),Z=(0,c.jsx)("table",(0,r.Z)((0,r.Z)({},b),{},{className:j,ref:n}));if(f){var g="".concat(v,"-responsive");return"string"===typeof f&&(g="".concat(g,"-").concat(f)),(0,c.jsx)("div",{className:g,children:Z})}return Z}));n.Z=u}}]);
//# sourceMappingURL=66.c971615e.chunk.js.map