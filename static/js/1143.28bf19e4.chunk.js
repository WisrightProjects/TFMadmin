"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[1143],{1143:function(e,s,a){a.r(s),a.d(s,{default:function(){return _}});var r=a(2791),t=a(6871),l=a(1395),i=a(5332),n=a(4165),c=a(1413),d=a(5861),o=a(885),m=a(8687),u=a(1134),p=a(4695),h=a(1724),x=a(449),f=a(3855),j=a(3360),g=a(9836),N=a(4136),v=a(9264),w=a(1645),b=a(184),Z=h.Ry().shape({email:h.Z_().required("Email is required"),password:h.Z_().required("Password is required")}),y={loginAction:x.y},k=(0,m.$j)((function(e){var s;return{isLoggedIn:null===(s=e.account)||void 0===s?void 0:s.isLoggedIn}}),y)((function(e){var s,a,l=e.loginAction,m=(0,t.s0)(),h=(0,r.useState)(!1),x=(0,o.Z)(h,2),y=x[0],k=x[1],S=function(){return k((function(e){return!e}))},P=(0,u.cI)({resolver:(0,p.X)(Z)}),C=P.register,q=P.handleSubmit,I=P.reset,W=P.formState,_=W.errors,A=W.isSubmitting;function U(){return(U=(0,d.Z)((0,n.Z)().mark((function e(s){var a,r,t,c;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.email,r=s.password,e.next=3,v.Jd.create(w.Zv+"/staff-login",{email:a,pwd:r});case 3:(t=e.sent)&&200===t.meta.code&&(l({isLoggedIn:!0,token:t.data.token,authUser:t.data,refreshToken:null===t||void 0===t||null===(c=t.data)||void 0===c?void 0:c.refreshToken}),I(),N.P6.showSuccessMsg("login successfully"),N.P6.navigateTo(m(i.b7)));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,b.jsx)("div",{className:"container-scroller",children:(0,b.jsx)("div",{className:"container-fluid page-body-wrapper full-page-wrapper",children:(0,b.jsx)("div",{className:"main-panel",children:(0,b.jsx)("div",{className:"content-wrapper",children:(0,b.jsx)("div",{className:"d-flex align-items-center auth px-0",children:(0,b.jsx)("div",{className:"row w-100 mx-0",children:(0,b.jsx)("div",{className:"col-lg-4 mx-auto",children:(0,b.jsxs)("div",{className:"auth-form-light text-left py-5 px-4 px-sm-5",children:[(0,b.jsx)("div",{className:"brand-logo d-flex justify-content-center",children:(0,b.jsx)("img",{src:g,alt:"logo",className:"mx-auto my-2"})}),(0,b.jsx)("h4",{children:"Hello! let's get started"}),(0,b.jsx)("h6",{className:"font-weight-light",children:"Sign in to continue."}),(0,b.jsxs)(f.Z,{onSubmit:q((function(e){return U.apply(this,arguments)})),className:"pt-3",children:[(0,b.jsxs)(f.Z.Group,{className:"search-field form-group",children:[(0,b.jsx)(f.Z.Control,(0,c.Z)((0,c.Z)({},C("email")),{},{type:"email",placeholder:"Username",size:"lg",className:"h-auto"})),(0,b.jsx)("p",{className:"text-danger text-start",children:null===(s=_.email)||void 0===s?void 0:s.message})]}),(0,b.jsxs)(f.Z.Group,{className:"search-field form-group password_input",children:[(0,b.jsx)(f.Z.Control,(0,c.Z)((0,c.Z)({},C("password")),{},{type:y?"text":"password",placeholder:"Password",size:"lg",className:"h-auto",id:"passwordInput"})),y?(0,b.jsx)("i",{onClick:S,className:"mdi mdi-eye"}):(0,b.jsx)("i",{onClick:S,className:"mdi mdi-eye-off"}),(0,b.jsx)("p",{className:"text-danger text-start",children:null===(a=_.password)||void 0===a?void 0:a.message})]}),(0,b.jsx)("div",{className:"mt-3",children:(0,b.jsx)(j.Z,{disabled:A,className:"btn btn-block btn-primary btn-lg font-weight-medium auth-form-btn",type:"submit",children:"SIGN IN"})}),(0,b.jsx)("div",{className:"my-2 d-flex justify-content-between align-items-center",children:(0,b.jsx)("div",{className:"form-check",children:(0,b.jsxs)("label",{className:"form-check-label text-muted",children:[(0,b.jsx)("input",{type:"checkbox",className:"form-check-input"}),(0,b.jsx)("i",{className:"input-helper"}),"Keep me signed in"]})})})]})]})})})})})})})})})),S=a(3504);var P=a.p+"static/media/logo.e20422e13368a3674abee9abdba7ed6b.svg",C=h.Ry().shape({email:h.Z_().required("Email is required")}),q=function(){var e,s=(0,u.cI)({resolver:(0,p.X)(C)}),a=s.register,r=s.handleSubmit,t=s.reset,l=s.formState,i=l.errors,o=l.isSubmitting,m=function(){var e=(0,d.Z)((0,n.Z)().mark((function e(s){var a,r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.email,e.next=3,v.Jd.create(w.Zv+"/forgotpwd",{email:a});case 3:(r=e.sent)&&200===r.meta.code&&(t(),N.P6.showSuccessMsg("Password send to ".concat(a," successfully")));case 5:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}();return(0,b.jsx)("div",{className:"container-scroller",children:(0,b.jsx)("div",{className:"container-fluid page-body-wrapper full-page-wrapper",children:(0,b.jsx)("div",{className:"main-panel",children:(0,b.jsx)("div",{className:"content-wrapper",children:(0,b.jsx)("div",{className:"d-flex align-items-center auth px-0",children:(0,b.jsx)("div",{className:"row w-100 mx-0",children:(0,b.jsx)("div",{className:"col-lg-4 mx-auto",children:(0,b.jsxs)("div",{className:"auth-form-light text-left py-5 px-4 px-sm-5",children:[(0,b.jsx)("div",{className:"brand-logo",children:(0,b.jsx)("img",{src:P,alt:"logo"})}),(0,b.jsx)("h4",{className:"text-center",children:"Forgot Password"}),(0,b.jsxs)(f.Z,{onSubmit:r(m),className:"pt-3",children:[(0,b.jsxs)(f.Z.Group,{className:"search-field form-group",children:[(0,b.jsx)(f.Z.Control,(0,c.Z)((0,c.Z)({},a("email")),{},{type:"email",placeholder:"Username",size:"lg",className:"h-auto"})),(0,b.jsx)("p",{className:"text-danger text-start",children:null===(e=i.email)||void 0===e?void 0:e.message})]}),(0,b.jsx)("div",{className:"mt-3",children:(0,b.jsx)(j.Z,{disabled:o,className:"btn btn-block btn-primary btn-lg font-weight-medium auth-form-btn",type:"submit",children:"SEND"})}),(0,b.jsxs)("div",{className:"my-2 d-flex justify-content-between align-items-center",children:[(0,b.jsx)("div",{className:"form-check",children:(0,b.jsx)("label",{className:"form-check-label text-muted",children:(0,b.jsx)("i",{className:"input-helper"})})}),(0,b.jsx)(S.rU,{to:"/login",className:"auth-link text-black",children:"Back"})]})]})]})})})})})})})})},I=h.Ry().shape({pwd:h.Z_().required("Password is required"),confirmpwd:h.Z_().test("confirm-password-test","Password not match",(function(e){return e===this.parent.pwd})).required("Confirm password is required")}),W=function(){var e,s,a=(0,t.s0)(),r=(0,t.UO)().token,l=(0,u.cI)({resolver:(0,p.X)(I)}),o=l.register,m=l.handleSubmit,h=l.formState,x=h.errors,g=h.isSubmitting;function w(){return(w=(0,d.Z)((0,n.Z)().mark((function e(s){var t,l,c;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.pwd,l=s.confirmpwd,e.next=3,v.W4.resetPassword({pwd:t,confirmpwd:l,token:r});case 3:(c=e.sent)&&200===c.meta.code&&(N.P6.showSuccessMsg("Password reset successfully"),N.P6.navigateTo(a,i.wm));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)("div",{className:"container-scroller",children:(0,b.jsx)("div",{className:"container-fluid page-body-wrapper full-page-wrapper",children:(0,b.jsx)("div",{className:"main-panel",children:(0,b.jsx)("div",{className:"content-wrapper",children:(0,b.jsx)("div",{className:"d-flex align-items-center auth px-0",children:(0,b.jsx)("div",{className:"row w-100 mx-0",children:(0,b.jsx)("div",{className:"col-lg-4 mx-auto",children:(0,b.jsxs)("div",{className:"auth-form-light text-left py-5 px-4 px-sm-5",children:[(0,b.jsx)("div",{className:"brand-logo",children:(0,b.jsx)("img",{src:P,alt:"logo"})}),(0,b.jsx)("h4",{className:"text-center",children:"Forgot Password"}),(0,b.jsxs)(f.Z,{onSubmit:m((function(e){return w.apply(this,arguments)})),className:"pt-3",children:[(0,b.jsxs)(f.Z.Group,{className:"search-field form-group",children:[(0,b.jsx)(f.Z.Control,(0,c.Z)((0,c.Z)({},o("pwd")),{},{type:"password",placeholder:"Password",size:"lg",className:"h-auto"})),(0,b.jsx)("p",{className:"text-danger text-start",children:null===(e=x.email)||void 0===e?void 0:e.message})]}),(0,b.jsxs)(f.Z.Group,{className:"search-field form-group",children:[(0,b.jsx)(f.Z.Control,(0,c.Z)((0,c.Z)({},o("confirmpwd")),{},{type:"password",placeholder:"Confirm Password",size:"lg",className:"h-auto"})),(0,b.jsx)("p",{className:"text-danger text-start",children:null===(s=x.email)||void 0===s?void 0:s.message})]}),(0,b.jsx)("div",{className:"mt-3",children:(0,b.jsx)(j.Z,{disabled:g,className:"btn btn-block btn-primary btn-lg font-weight-medium auth-form-btn",type:"submit",children:"SUBMIT"})}),(0,b.jsxs)("div",{className:"my-2 d-flex justify-content-between align-items-center",children:[(0,b.jsx)("div",{className:"form-check",children:(0,b.jsx)("label",{className:"form-check-label text-muted",children:(0,b.jsx)("i",{className:"input-helper"})})}),(0,b.jsx)(S.rU,{to:"/login",className:"auth-link text-black",children:"Back"})]})]})]})})})})})})})})})},_=function(){return(0,b.jsx)(r.Suspense,{fallback:(0,b.jsx)(l.Z,{}),children:(0,b.jsxs)(t.Z5,{children:[(0,b.jsx)(t.AW,{path:i.Wb,element:(0,b.jsx)(t.Fg,{replace:!0,to:i.wm})}),(0,b.jsx)(t.AW,{path:i.CY,element:(0,b.jsx)(t.Fg,{replace:!0,to:i.wm})}),(0,b.jsx)(t.AW,{path:i.wm,element:(0,b.jsx)(k,{})}),(0,b.jsx)(t.AW,{path:i.sT,element:(0,b.jsx)(q,{})}),(0,b.jsx)(t.AW,{path:i.Wd,element:(0,b.jsx)(W,{})})]})})}}}]);
//# sourceMappingURL=1143.28bf19e4.chunk.js.map