"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[7040],{4206:function(e,n,t){t.d(n,{Z:function(){return o}});t(2791);var r=t(7798),s=t(2576),i=t(3504),a=t(184);function o(e){var n=e.editOnClick,t=e.viewOnClick,o=e.deleteOnClick,c=e.rowId,l=e.viewUrl,d=e.editUrl,u=e.id,h=e.updateOnClick,m=e.downloadOnClick;return(0,a.jsxs)("div",{children:[h&&(0,a.jsx)(r.Z,{overlay:(0,a.jsx)(s.Z,{children:"Update Plan"}),children:(0,a.jsx)("button",{className:"btn btn-inverse-info btn-rounded btn-icon",onClick:function(){return h(c)},children:(0,a.jsx)("i",{className:"mdi mdi-update"})})}),n&&(0,a.jsx)(r.Z,{overlay:(0,a.jsx)(s.Z,{children:"Edit"}),children:(0,a.jsx)("button",{className:"btn btn-inverse-info btn-rounded btn-icon",onClick:function(){return n(c)},children:(0,a.jsx)("i",{className:"mdi mdi-pencil"})})}),d&&(0,a.jsx)(r.Z,{overlay:(0,a.jsx)(s.Z,{children:"Edit"}),children:(0,a.jsx)(i.rU,{className:"btn btn-inverse-info btn-rounded btn-icon",to:d,children:(0,a.jsx)("i",{style:{lineHeight:"2.2"},className:"mdi mdi-pencil"})})}),t&&(0,a.jsx)(r.Z,{overlay:(0,a.jsx)(s.Z,{children:"View"}),children:(0,a.jsx)("button",{className:"btn btn-inverse-primary btn-rounded btn-icon",onClick:function(){return t(c)},children:(0,a.jsx)("i",{className:"mdi mdi-eye"})})}),o&&(0,a.jsx)(r.Z,{overlay:(0,a.jsx)(s.Z,{children:"Delete"}),children:(0,a.jsx)("button",{className:"btn btn-inverse-danger btn-rounded btn-icon",onClick:function(){return o(c,u)},children:(0,a.jsx)("i",{className:"mdi mdi-delete"})})}),l&&(0,a.jsx)(r.Z,{overlay:(0,a.jsx)(s.Z,{children:"View"}),children:(0,a.jsx)(i.rU,{className:"btn btn-inverse-primary btn-rounded btn-icon",to:l,children:(0,a.jsx)("i",{style:{lineHeight:"2.2"},className:"mdi mdi-eye"})})}),m&&(0,a.jsx)(r.Z,{overlay:(0,a.jsx)(s.Z,{children:"View"}),children:(0,a.jsx)("button",{className:"btn btn-inverse-primary btn-rounded btn-icon",onClick:function(){return m(c)},children:(0,a.jsx)("i",{className:"mdi mdi-download"})})})]})}},6645:function(e,n,t){var r=t(3504),s=t(184);n.Z=function(e){var n=e.pageFor;return(0,s.jsxs)("div",{className:"page-header",children:[(0,s.jsx)("h3",{className:"page-title",children:n}),(0,s.jsx)("nav",{"aria-label":"breadcrumb",children:(0,s.jsxs)("ol",{className:"breadcrumb",children:[(0,s.jsx)("li",{className:"breadcrumb-item",children:(0,s.jsx)(r.rU,{to:"/",children:"Home"})}),(0,s.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:n})]})})]})}},3024:function(e,n,t){var r,s,i=t(885),a=t(168),o=t(2791),c=t(4313),l=t(3513),d=t(3360),u=t(4849),h=t(184);function m(e,n){var t=document.createElement("a"),r=function(e){var n,t=Object.keys(e[0]);return n="",n+=t.join(","),n+="\n",e.forEach((function(e){var r=0;t.forEach((function(t){r>0&&(n+=","),n+=e[t],r++})),n+="\n"})),n}(n);if(null!=r){var s=e.toLowerCase()+".csv";r.match(/^data:text\/csv/i)||(r="data:text/csv;charset=utf-8,".concat(r)),t.setAttribute("href",encodeURI(r)),t.setAttribute("download",s),t.click()}}var x=function(e){var n=e.onExport;return(0,h.jsx)("button",{onClick:function(e){return n(e.target.value)},children:"Export"})},p=c.default.input(r||(r=(0,a.Z)(["\n  height: 32px;\n  width: 200px;\n  border-radius: 3px;\n  border-top-left-radius: 5px;\n  border-bottom-left-radius: 5px;\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n  border: 1px solid #e5e5e5;\n  padding: 0 32px 0 16px;\n\n  &:hover {\n    cursor: pointer;\n  }\n"]))),f=(0,c.default)(d.Z)(s||(s=(0,a.Z)(["\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n  border-top-right-radius: 5px;\n  border-bottom-right-radius: 5px;\n  height: 34px;\n  width: 32px;\n  text-align: center;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),b=function(e){var n=e.filterText,t=e.onFilter,r=e.onClear;return(0,h.jsxs)("div",{className:"input-group mb-3",children:[(0,h.jsx)(p,{type:"text",placeholder:"Filter By Name","aria-label":"Search Input",value:n,onChange:t}),(0,h.jsx)("div",{className:"input-group-append",children:(0,h.jsx)(f,{type:"button",className:"p-0",onClick:r,children:"X"})})]})},j={rows:{style:{minHeight:"72px"}},headCells:{style:{paddingLeft:"8px",paddingRight:"8px"}},cells:{style:{paddingLeft:"8px",paddingRight:"8px"}}};n.Z=function(e){var n=e.title,t=e.addLink,r=e.noHeader,s=void 0===r||r,a=e.subHeader,c=void 0===a||a,d=e.data,p=e.progressPending,f=e.columns,v=e.exportLink,Z=e.exportFunc,g=e.downloadFuntion,N=e.totalRows,y=e.handlePerRowsChange,w=e.handlePageChange,C=(0,o.useMemo)((function(){return(0,h.jsxs)(o.Fragment,{children:[t&&(0,h.jsx)("button",{className:"btn btn-rounded btn-success",onClick:t,children:"+ Add"}),v&&(0,h.jsx)(x,{onExport:function(){return m(n,d)}}),Z&&(0,h.jsx)("button",{onClick:g,children:"Export Exception"})]})}),[d,t,g,Z,v,n]),k=o.useState(""),S=(0,i.Z)(k,2),P=S[0],E=S[1],R=o.useState(!1),H=(0,i.Z)(R,2),I=H[0],U=H[1],D=(0,o.useMemo)((function(){return(0,h.jsx)(b,{onFilter:function(e){return E(e.target.value)},onClear:function(){P&&(U(!I),E(""))},filterText:P})}),[P,I]),A=function(){return(0,h.jsx)("div",{className:"spinner_wrapper",children:(0,h.jsx)(u.Z,{animation:"border"})})};return(0,h.jsx)("div",{children:(0,h.jsx)(l.ZP,{className:"table table-striped table-bordered align-middle mb-0 text-nowrap",title:n,noHeader:s,responsive:!0,pagination:!0,paginationRowsPerPageOptions:[2,5,10,25,50,100],paginationResetDefaultPage:I,highlightOnHover:!0,pointerOnHover:!0,progressPending:p,actions:C,dense:!0,data:d,columns:f,customStyles:j,paginationServer:!0,paginationTotalRows:N,onChangeRowsPerPage:y,onChangePage:w,subHeader:c,subHeaderComponent:D,progressComponent:(0,h.jsx)(A,{})})})}},8982:function(e,n,t){var r=t(4542),s=t(184);n.Z=function(e){var n=e.show,t=e.size,i=e.handleClose,a=e.modalTitle,o=e.children,c=e.centered,l=e.scrollable;return(0,s.jsxs)(r.Z,{scrollable:l,centered:c,size:t,show:n,onHide:i,backdrop:"static",keyboard:!1,children:[(0,s.jsxs)(r.Z.Header,{children:[(0,s.jsx)(r.Z.Title,{children:a}),(0,s.jsxs)("button",{type:"button",onClick:i,className:"close",children:[(0,s.jsx)("span",{"aria-hidden":"true",children:"\xd7"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]}),(0,s.jsx)(r.Z.Body,{children:o})]})}},7040:function(e,n,t){t.r(n);var r=t(4165),s=t(5861),i=t(1413),a=t(885),o=t(9743),c=t(2677),l=t(9140),d=t(3360),u=t(2591),h=t(3024),m=t(2791),x=t(9264),p=t(4206),f=t(5332),b=t(6645),j=t(3855),v=t(3504),Z=t(1645),g=t(4136),N=t(8687),y=t(8982),w=t(1134),C=t(4695),k=t(1724),S=t(184),P=k.Ry().shape({status:k.Rx().required("Status is required")});n.default=(0,N.$j)((function(e){var n;return{commonData:null===e||void 0===e||null===(n=e.common)||void 0===n?void 0:n.commonData}}),null)((function(e){var n,t,N,k=e.commonData,E=[{name:"Staff ID",selector:function(e){return e.userID}},{name:"Username",selector:function(e){return e.name}},{name:"Phone",selector:function(e){return e.phone}},{name:"Email",selector:function(e){return e.email}},{name:"Status",selector:function(e){var n=e.status,t=k.userStatus,r=t?null===t||void 0===t?void 0:t.find((function(e){return e.code===n})):{},s="";switch(null===r||void 0===r?void 0:r.code){case 10:s="btn-success";break;case 20:s="btn-danger";break;default:s="btn-primary"}return(0,S.jsx)("button",{type:"button",onClick:function(){return He(e)},className:"btn ".concat(s," btn-sm"),children:null===r||void 0===r?void 0:r.label})}},{name:"Action",cell:function(e){return(0,S.jsx)(p.Z,{viewOnClick:Oe,editUrl:f.nF+"/"+e._id,rowId:e._id})},ignoreRowClick:!0,grow:1}],R=(0,m.useState)("Staff List"),H=(0,a.Z)(R,1)[0],I=(0,m.useState)([]),U=(0,a.Z)(I,2),D=U[0],A=U[1],O=(0,m.useState)(0),F=(0,a.Z)(O,2),z=F[0],L=F[1],T=(0,m.useState)(g.oX.aQ),V=(0,a.Z)(T,2),B=V[0],G=V[1],M=(0,m.useState)(null),X=(0,a.Z)(M,2),_=X[0],q=X[1],J=(0,m.useState)((0,i.Z)((0,i.Z)({},g.oX.cQ),{},{role:20})),Q=(0,a.Z)(J,2),$=Q[0],K=Q[1],W=(0,m.useState)(!1),Y=(0,a.Z)(W,2),ee=Y[0],ne=Y[1],te=(0,m.useState)({}),re=(0,a.Z)(te,2),se=re[0],ie=re[1],ae=(0,m.useState)(""),oe=(0,a.Z)(ae,2),ce=oe[0],le=oe[1],de=(0,m.useState)(!0),ue=(0,a.Z)(de,2),he=ue[0],me=ue[1],xe=function(){return ne(!0)},pe=function(){return ne(!1)},fe=(0,w.cI)({resolver:(0,C.X)(P)}),be=fe.register,je=fe.handleSubmit,ve=fe.formState,Ze=ve.errors,ge=ve.isSubmitting,Ne=fe.setValue,ye=fe.reset,we=(0,w.cI)(),Ce=we.register,ke=we.handleSubmit,Se=we.reset,Pe=we.formState,Ee=Pe.isSubmitting,Re=Pe.isDirty,He=function(e){var n;le("Change Account Status"),ie(e),Ne("status",null===(n=e.status)||void 0===n?void 0:n.toString()),xe()},Ie=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(n){var t,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Z.uh+"/change-status/"+se.userID,e.next=3,x.Jd.create(t,n);case 3:(s=e.sent)&&200===s.meta.code?(g.P6.showSuccessMsg(s.meta.message),ye(),pe(),K((0,i.Z)((0,i.Z)({},$),{},{filter:{}}))):g.P6.showErrMsg(s.meta.message);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Ue=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(n){var t,s,a,o,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.email,s=n.name,a=n.userID,o=n.status,""!==(t||a||s||o)){e.next=4;break}return g.P6.showErrMsg("Atleast minimum field is required"),e.abrupt("return",!1);case 4:c={},""!==t&&(c.email=t),""!==a&&(c.userId=a),""!==o&&(c.status=Number(o)),"All"===o&&(delete c.status,K((0,i.Z)((0,i.Z)({},$),{},{filter:c}))),K((0,i.Z)((0,i.Z)({},$),{},{filter:c,search:s}));case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),De=function(e,n){var t,r=k&&k[e]?null===(t=k[e])||void 0===t?void 0:t.find((function(e){return e.code===n})):"";return r?null===r||void 0===r?void 0:r.label:""},Ae=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(n){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.Jd.getById(Z.uh+"/"+n);case 2:if(!(t=e.sent)||200!==t.meta.code){e.next=5;break}return e.abrupt("return",null===t||void 0===t?void 0:t.data);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Oe=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(n){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae(n);case 2:(t=e.sent)&&(le("View Staff"),xe(),q(t));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Fe=(0,m.useState)(!1),ze=(0,a.Z)(Fe,2),Le=ze[0],Te=ze[1];return(0,m.useEffect)((function(){var e=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(n){var t,s,i,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return me(!0),t=Z.uh+"/filter",e.next=4,x.Jd.loadStaff(t,n);case 4:(s=e.sent)&&200===s.meta.code?(i=s.data,a=s.pagination,L(i.length>0?a.totalCount:0),A(i.length>0?i:[]),me(!1)):A([]);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();Le&&e($)}),[Le,$]),(0,m.useEffect)((function(){Te(!0)}),[]),(0,S.jsxs)("div",{children:[(0,S.jsx)(b.Z,{pageFor:H}),(0,S.jsx)(o.Z,{children:(0,S.jsx)(c.Z,{xl:12,children:(0,S.jsx)(l.Z,{children:(0,S.jsxs)(l.Z.Body,{children:[(0,S.jsxs)(o.Z,{className:"m-2",children:[(0,S.jsx)(c.Z,{md:6}),(0,S.jsx)(c.Z,{md:6,className:"ml-lg-auto d-flex pt-2 pt-md-0 align-items-stretch justify-content-end",children:(0,S.jsx)(v.rU,{className:"nav-link",to:f.hX,children:(0,S.jsx)("button",{className:"btn btn-rounded btn-success",children:"+ Add"})})})]}),(0,S.jsxs)(j.Z,{className:"forms-sample",onSubmit:ke(Ue),children:[(0,S.jsxs)(o.Z,{children:[(0,S.jsx)(c.Z,{md:2,children:(0,S.jsx)(j.Z.Group,{className:"form-group",children:(0,S.jsx)(j.Z.Control,(0,i.Z)({type:"text",placeholder:"Enter Staff Id",size:"md"},Ce("userID")))})}),(0,S.jsx)(c.Z,{md:4,children:(0,S.jsx)(j.Z.Group,{className:"form-group",children:(0,S.jsx)(j.Z.Control,(0,i.Z)({type:"text",placeholder:"Enter Username",size:"md"},Ce("name")))})}),(0,S.jsx)(c.Z,{md:4,children:(0,S.jsx)(j.Z.Group,{className:"form-group",children:(0,S.jsx)(j.Z.Control,(0,i.Z)({type:"text",placeholder:"Enter Useremail",size:"md"},Ce("email")))})}),(0,S.jsx)(c.Z,{md:2,children:(0,S.jsx)(j.Z.Group,{className:"form-group",children:(0,S.jsxs)(j.Z.Select,(0,i.Z)((0,i.Z)({className:"form-control"},Ce("status")),{},{children:[(0,S.jsx)("option",{onClick:"",children:"All"}),null===k||void 0===k||null===(n=k.userStatus)||void 0===n?void 0:n.map((function(e,n){return(0,S.jsx)("option",{value:e.code,children:e.label},n)}))]}))})})]}),(0,S.jsxs)("div",{className:"pb-2",children:[(0,S.jsx)("button",{disabled:Ee,type:"submit",className:"btn btn-gradient-primary mr-2",children:"Search"}),Re&&(0,S.jsx)("button",{onClick:function(){return Se(),void K((0,i.Z)((0,i.Z)({},$),{},{filter:{},search:""}))},className:"btn btn-gradient-danger mr-2",children:"Reset"})]})]}),(0,S.jsx)(h.Z,{noHeader:!0,subHeader:!1,columns:E,data:D,handlePageChange:function(e){K((0,i.Z)((0,i.Z)({},$),{},{skip:e>1?(e-1)*B:0}))},handlePerRowsChange:function(e,n){G(e),K((0,i.Z)((0,i.Z)({},$),{},{skip:n>1?(n-1)*B:0,limit:e}))},totalRows:z,progressPending:he})]})})})}),ee&&(0,S.jsxs)(y.Z,{show:ee,handleClose:pe,size:"md",modalTitle:ce,children:[ce&&"Change Account Status"===ce&&(0,S.jsxs)(j.Z,{onSubmit:je(Ie),className:"pt-3",children:[(0,S.jsxs)(j.Z.Group,{className:"search-field form-group",children:[(0,S.jsx)("div",{className:"d-flex",children:k.userStatus&&k.userStatus.map((function(e,n){return(0,S.jsx)(j.Z.Check,{className:"mx-1",children:(0,S.jsxs)(j.Z.Check.Label,{children:[(0,S.jsx)(j.Z.Check.Input,(0,i.Z)({type:"radio",name:"status",value:e.code},be("status"))),(0,S.jsx)("i",{className:"input-helper"})," ",e.label]})},n)}))}),(0,S.jsx)("p",{className:"text-danger",children:null===(t=Ze.status)||void 0===t?void 0:t.message})]}),(0,S.jsxs)("div",{className:"mt-3",children:[(0,S.jsx)(d.Z,{disabled:ge,className:"btn btn-primary btn-sm font-weight-medium auth-form-btn",type:"submit",children:"Submit"}),(0,S.jsx)(d.Z,{className:"btn btn-danger btn-sm",onClick:pe,children:"Close"})]})]}),ce&&"View Staff"===ce&&_&&(0,S.jsx)(u.Z,{className:"borderless",children:(0,S.jsxs)("tbody",{children:[(0,S.jsxs)("tr",{children:[(0,S.jsx)("td",{children:(0,S.jsx)("h5",{children:"Name"})}),(0,S.jsx)("td",{children:null===_||void 0===_?void 0:_.name})]}),(0,S.jsxs)("tr",{children:[(0,S.jsx)("td",{children:(0,S.jsx)("h5",{children:"Email"})}),(0,S.jsx)("td",{children:null===_||void 0===_?void 0:_.email})]}),(0,S.jsxs)("tr",{children:[(0,S.jsx)("td",{children:(0,S.jsx)("h5",{children:"Phone"})}),(0,S.jsx)("td",{children:null===_||void 0===_?void 0:_.phone})]}),(0,S.jsxs)("tr",{children:[(0,S.jsx)("td",{children:(0,S.jsx)("h5",{children:"Branch "})}),(0,S.jsx)("td",{children:null===_||void 0===_||null===(N=_.branch)||void 0===N?void 0:N.name})]}),(0,S.jsxs)("tr",{children:[(0,S.jsx)("td",{children:(0,S.jsx)("h5",{children:"Status"})}),(0,S.jsx)("td",{children:De("userStatus",_.status)})]}),(0,S.jsxs)("tr",{children:[(0,S.jsx)("td",{children:(0,S.jsx)("h5",{children:"Role"})}),(0,S.jsx)("td",{children:De("staffRegisterRoles",_.role)})]})]})})]})]})}))},2591:function(e,n,t){var r=t(1413),s=t(5987),i=t(1694),a=t.n(i),o=t(2791),c=t(162),l=t(184),d=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],u=o.forwardRef((function(e,n){var t=e.bsPrefix,i=e.className,o=e.striped,u=e.bordered,h=e.borderless,m=e.hover,x=e.size,p=e.variant,f=e.responsive,b=(0,s.Z)(e,d),j=(0,c.vE)(t,"table"),v=a()(i,j,p&&"".concat(j,"-").concat(p),x&&"".concat(j,"-").concat(x),o&&"".concat(j,"-").concat("string"===typeof o?"striped-".concat(o):"striped"),u&&"".concat(j,"-bordered"),h&&"".concat(j,"-borderless"),m&&"".concat(j,"-hover")),Z=(0,l.jsx)("table",(0,r.Z)((0,r.Z)({},b),{},{className:v,ref:n}));if(f){var g="".concat(j,"-responsive");return"string"===typeof f&&(g="".concat(g,"-").concat(f)),(0,l.jsx)("div",{className:g,children:Z})}return Z}));n.Z=u}}]);
//# sourceMappingURL=7040.8fe3b1b9.chunk.js.map